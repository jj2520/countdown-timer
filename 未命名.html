<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸‹ç­å€’è®¡æ—¶</title>
    <style>
        /* æ ·å¼éƒ¨åˆ†ä¸æ–¹æ¡ˆä¸€ä¸€è‡´ï¼Œå·²ä¿®å¤åŸä»£ç é”™è¯¯ï¼Œæ­¤å¤„çœç•¥ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: #fff;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            width: 100%;
            max-width: 450px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 10px;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        .current-time {
            font-size: 20px;
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            display: inline-block;
        }
        
        /* æ–°å¢è¾“å…¥æ¡†æ ·å¼ */
        .target-time-input {
            margin: 15px 0;
        }
        
        .target-time-input label {
            font-size: 16px;
            margin-right: 10px;
        }
        
        .target-time-input input {
            padding: 8px 12px;
            border-radius: 8px;
            border: none;
            font-size: 16px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
        }
        
        .target-time {
            font-size: 18px;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        .countdown {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .time-unit {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .time-value {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 15px;
            min-width: 80px;
            font-size: 42px;
            font-weight: bold;
            margin-bottom: 5px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .time-label {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .message {
            font-size: 20px;
            margin-top: 20px;
            padding: 15px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .progress-container {
            margin: 25px 0;
        }
        
        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .progress-percentage {
            font-size: 16px;
            font-weight: bold;
            margin-top: 8px;
            text-align: center;
        }
        
        .progress-bar {
            height: 10px;
            width: 100%;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #43e97b 0%, #38f9d7 100%);
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        
        .celebrate {
            font-size: 50px;
            margin-top: 20px;
            display: none;
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 20px;
            }
            
            .time-value {
                font-size: 32px;
                min-width: 60px;
                padding: 12px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            .current-time {
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="countdown-title">è·ç¦»ä¸‹åˆ5:30è¿˜æœ‰</h1>
        
        <div class="current-time" id="current-time">å½“å‰æ—¶é—´ï¼šåŠ è½½ä¸­...</div>
        
        <!-- æ–°å¢ï¼šç›®æ ‡æ—¶é—´è¾“å…¥æ¡† -->
        <div class="target-time-input">
            <label for="target-time-picker">é€‰æ‹©ç›®æ ‡æ—¶é—´ï¼š</label>
            <input type="time" id="target-time-picker" value="17:30">
        </div>
        
        <div class="target-time" id="target-time-display">ç›®æ ‡æ—¶é—´ï¼šä»Šå¤© 17:30:00</div>
        
        <div class="countdown">
            <div class="time-unit">
                <div class="time-value" id="hours">00</div>
                <div class="time-label">å°æ—¶</div>
            </div>
            <div class="time-unit">
                <div class="time-value" id="minutes">00</div>
                <div class="time-label">åˆ†é’Ÿ</div>
            </div>
            <div class="time-unit">
                <div class="time-value" id="seconds">00</div>
                <div class="time-label">ç§’</div>
            </div>
        </div>
        
        <div class="progress-container">
            <div class="progress-info">
                <span>8:30</span>
                <span>ä»Šæ—¥å·¥ä½œè¿›åº¦</span>
                <span id="progress-end-time">17:30</span>
            </div>
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            <div class="progress-percentage" id="progress-percentage">0%</div>
        </div>
        
        <div class="message" id="message">åŠ æ²¹ï¼Œå·¥ä½œå³å°†ç»“æŸï¼</div>
        
        <div class="celebrate" id="celebrate">ğŸ‰ ğŸŠ ğŸ‰</div>
    </div>

    <script>
        function updateCurrentTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            
            document.getElementById('current-time').textContent = `å½“å‰æ—¶é—´ï¼š${hours}:${minutes}:${seconds}`;
        }
        
        function updateCountdown() {
            // ä»è¾“å…¥æ¡†è·å–ç›®æ ‡æ—¶é—´ï¼ˆæ ¼å¼ï¼šHH:MMï¼‰
            const timePicker = document.getElementById('target-time-picker');
            const [targetHour, targetMinute] = timePicker.value.split(':').map(Number);
            
            const now = new Date();
            const target = new Date();
            
            // è®¾ç½®ç›®æ ‡æ—¶é—´
            target.setHours(targetHour, targetMinute, 0, 0);
            
            // å¦‚æœå½“å‰æ—¶é—´å·²è¶…è¿‡ç›®æ ‡æ—¶é—´ï¼Œç›®æ ‡è®¾ä¸ºæ˜å¤©
            if (now > target) {
                target.setDate(target.getDate() + 1);
            }
            
            // è®¡ç®—æ—¶é—´å·®
            const diff = target - now;
            const hours = Math.floor(diff / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            // æ›´æ–°å€’è®¡æ—¶æ•°å­—
            document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
            
            // åŒæ­¥æ ‡é¢˜ã€ç›®æ ‡æ—¶é—´æ˜¾ç¤ºã€è¿›åº¦æ¡ç»“æŸæ—¶é—´
            let period = targetHour >= 12 ? 'ä¸‹åˆ' : 'ä¸Šåˆ';
            let displayHour = targetHour > 12 ? targetHour - 12 : targetHour;
            document.getElementById('countdown-title').textContent = `è·ç¦»${period}${displayHour}:${targetMinute.toString().padStart(2, '0')}è¿˜æœ‰`;
            const targetTimeText = `ç›®æ ‡æ—¶é—´ï¼šä»Šå¤© ${targetHour.toString().padStart(2, '0')}:${targetMinute.toString().padStart(2, '0')}:00`;
            document.getElementById('target-time-display').textContent = targetTimeText;
            document.getElementById('progress-end-time').textContent = `${targetHour.toString().padStart(2, '0')}:${targetMinute.toString().padStart(2, '0')}`;
            
            // æ›´æ–°è¿›åº¦æ¡
            const workStart = new Date();
            workStart.setHours(8, 30, 0, 0);
            
            let progressPercent;
            if (now < workStart) {
                progressPercent = 0;
            } else if (now > target) {
                progressPercent = 100;
            } else {
                const totalWorkTime = target - workStart;
                const timePassed = now - workStart;
                progressPercent = (timePassed / totalWorkTime) * 100;
            }
            
            document.getElementById('progress').style.width = progressPercent + '%';
            document.getElementById('progress-percentage').textContent = `${progressPercent.toFixed(1)}%`;
            
            // æ›´æ–°é¼“åŠ±æ¶ˆæ¯
            const message = document.getElementById('message');
            const celebrate = document.getElementById('celebrate');
            
            if (diff < 0) {
                message.textContent = "æ—¶é—´åˆ°ï¼äº«å—æ‚¨çš„é—²æš‡æ—¶å…‰ï¼";
                celebrate.style.display = "block";
            } else if (hours === 0 && minutes < 30) {
                message.textContent = "å¿«åˆ°äº†ï¼Œå†åšæŒä¸€ä¸‹ï¼";
            } else if (hours === 0) {
                message.textContent = "ä¸åˆ°ä¸€å°æ—¶äº†ï¼Œä½ å¯ä»¥çš„ï¼";
            } else if (hours < 3) {
                message.textContent = "åŠ æ²¹ï¼Œå·¥ä½œå³å°†ç»“æŸï¼";
            } else if (progressPercent < 20) {
                message.textContent = "æ–°çš„ä¸€å¤©åˆšåˆšå¼€å§‹ï¼Œä¿æŒæ´»åŠ›ï¼";
            } else if (progressPercent < 50) {
                message.textContent = "ä¸Šåˆæ—¶å…‰ï¼Œé«˜æ•ˆå·¥ä½œçš„å¥½æ—¶æœºï¼";
            } else if (progressPercent < 70) {
                message.textContent = "åˆåæ—¶åˆ†ï¼Œä¿æŒèŠ‚å¥ï¼";
            } else {
                message.textContent = "èƒœåˆ©åœ¨æœ›ï¼ŒåšæŒå°±æ˜¯èƒœåˆ©ï¼";
            }
        }
        
        function updateAll() {
            updateCurrentTime();
            updateCountdown();
        }
        
        // åˆå§‹æ›´æ–°
        updateAll();
        
        // æ¯ç§’æ›´æ–°ä¸€æ¬¡
        setInterval(updateAll, 1000);
        
        // è¾“å…¥æ¡†æ—¶é—´æ”¹å˜æ—¶ï¼Œç«‹å³æ›´æ–°
        document.getElementById('target-time-picker').addEventListener('change', updateCountdown);
    </script>
</body>
</html>
